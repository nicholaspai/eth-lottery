'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _LocalAppController = require('../models/local/LocalAppController');

var _LocalAppController2 = _interopRequireDefault(_LocalAppController);

var _ZosPackageFile = require('../models/files/ZosPackageFile');

var _ZosPackageFile2 = _interopRequireDefault(_ZosPackageFile);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = async function init({ name, version, publish = false, libs = [], installLibs = false, force = false, packageFile = new _ZosPackageFile2.default() }) {
  if (!name) throw Error('A project name must be provided to initialize the project.');

  const controller = new _LocalAppController2.default(packageFile);
  controller.init(name, version, force, publish);
  if (libs.length !== 0) await controller.linkLibs(libs, installLibs);
  controller.writePackage();
};